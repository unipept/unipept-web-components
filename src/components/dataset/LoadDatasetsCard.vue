<template>
    <v-card>
        <v-tabs grow :dark="isDark" :color="tabsTextColor" :background-color="tabsColor" :slider-color="tabsSliderColor" v-model="currentTab">
            <v-tab>
                Create
            </v-tab>
            <v-tab>
                Sample data
            </v-tab>
            <v-tab>
                Pride
            </v-tab>
            <v-tab>
                Local data
            </v-tab>
        </v-tabs>
        <v-tabs-items v-model="currentTab">
            <v-tab-item>
                <create-dataset-card></create-dataset-card>
            </v-tab-item>
            
            <v-tab-item>
                <load-sample-dataset-card :selected-datasets="selectedDatasets"></load-sample-dataset-card>
            </v-tab-item>
            
            <v-tab-item>
                <load-pride-dataset-card></load-pride-dataset-card>
            </v-tab-item>
            
            <v-tab-item>
                <load-local-dataset-card :stored-datasets="storedDatasets"></load-local-dataset-card>
            </v-tab-item>
        </v-tabs-items>
    </v-card>
</template>

<script lang="ts">
import Vue from "vue";

import Component from "vue-class-component";
import { Prop, Watch } from "vue-property-decorator";
import Assay from "../../logic/data-management/assay/Assay";
import CreateDatasetCard from "./CreateDatasetCard.vue";
import LoadSampleDatasetCard from "./LoadSampleDatasetCard.vue";
import LoadPrideDatasetCard from "./LoadPrideDatasetCard.vue";
import LoadLocalDatasetCard from "./LoadLocalDatasetCard.vue";

import SampleDataset from "../../logic/data-management/SampleDataset";
import Tooltip from "../custom/Tooltip.vue";
import SampleDatasetCollection from "../../logic/data-management/SampleDatasetCollection";
import StorageWriter from "../../logic/data-management/visitors/storage/StorageWriter";
import { EventBus } from "../EventBus";

@Component({
    components: {
        CreateDatasetCard,
        LoadSampleDatasetCard,
        LoadPrideDatasetCard,
        LoadLocalDatasetCard
    }
})
export default class LoadDatasetsCard extends Vue {
    @Prop({ required: true })
    private selectedDatasets: Assay[];
    @Prop({ required: true })
    private storedDatasets: Assay[];
    @Prop({ required: false, default: "primary" })
    private tabsColor: string;
    @Prop({ required: false, default: "secondary" })
    private tabsSliderColor: string;
    @Prop({ required: false, default: "white" })
    private tabsTextColor: string;
    @Prop({ required: false, default: true })
    private isDark: boolean;

    private currentTab: number = 0;
}
</script>

<style lang="less">
    @import './../../assets/style/layout.css.less';
    @import './../../assets/style/tabs.css.less';
    @import './../../assets/style/card.css.less';

    .peptide-amount-wrapper {
        display: flex !important;
        flex-direction: row;
        justify-content: space-between;
    }

    .load-sample-container .row {
        flex-wrap: nowrap;
    }
</style>
